<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Bootstrap demo</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
            crossorigin="anonymous"
           
        />
    </head>
    <body>
        <h1>Hello, world!</h1>
        <div class="col-lg-6 col-sm-12 col-md-9 mx-auto">
            <div class="ratio ratio-16x9">
                <iframe
                    src="https://youtu.be/wMSxYOZMl0U"
                    title="YouTube video"
                    allowfullscreen
                     id="youtube"
                ></iframe>
            </div>
        </div>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
            crossorigin="anonymous"
        ></script>
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
            integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <script>
            function linkEmbedYt(link) {
                let videoCode = "";
                if (link.includes("https://www.youtube.com/watch?v=")) {
                    videoCode = link.split("v=");
                } else if (link.includes("https://youtu.be")) {
                    videoCode = link.split("youtu.be/");
                }
                return `https://www.youtube.com/embed/${videoCode[1]}`;
            }
            let deskripsis = document.querySelectorAll(".contents p.deskripsi");
            let iframe = document.querySelector("iframe#youtube");
            console.log(linkEmbedYt(iframe.src));
            iframe.src = linkEmbedYt(iframe.src)

            deskripsis.forEach((content) => {
                const text = content.textContent;
                const words = text.split("  ");
                const trunc = words.slice(0, 20).join(" ");

                if (words.length > 20) {
                    content.textContent = trunc + "....";
                    console.log(trunc);
                }
            });
        </script>
    </body>
</html>
